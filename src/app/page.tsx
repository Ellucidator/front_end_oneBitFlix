import Head from "next/head";
import styles from "./page.module.scss";
import HeaderNoAuth from "@/components/homeNoAuth/headerNoAuth";
import PresentationSection from "@/components/homeNoAuth/presentationSection";
import CardSection from "@/components/homeNoAuth/cardSection";
import SlideSection from "../components/homeNoAuth/slideSection/index";

const getNewestCourses = async ()=>{
  const res = await fetch("http://localhost:3000/courses/newest");
  const data = res.json()
  return data
}
const HomeNoAuth = async () =>{
  const courses = await getNewestCourses()

  
  return (
    <>
      <Head>
        <title>OneBitFlix</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="./icon.ico" />
      </Head>
      <main>
        <div className={styles.sectionBg}>
          <HeaderNoAuth/>
          <PresentationSection/>
        </div>
        <CardSection/>
        <SlideSection newestCourses={courses}/>
      </main>
    </>
  );
};


export default HomeNoAuth